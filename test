from tqdm import tqdm  # Optional, for progress bar

chunk_data_obj = concurrent_embedding(model_idx="4")

batch_size = 128
chunk_data = []

for i in tqdm(range(0, len(chunks_data), batch_size)):
    batch = chunks_data[i:i + batch_size]
    result = chunk_data_obj.chunk_embedding(batch)
    chunk_data.extend(result)
