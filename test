from sklearn.metrics.pairwise import cosine_similarity
import numpy as np

def compute_cosine_similarity(self, query_vector, db_vector):
    # sklearn expects 2D arrays
    return float(cosine_similarity(
        np.array(query_vector).reshape(1, -1),
        np.array(db_vector).reshape(1, -1)
    )[0][0])
