import numpy as np

max_len = max(len(sv.values) for sv in shap_values)  # Find longest sequence

padded_values = np.array([np.pad(sv.values, (0, max_len - len(sv.values)), constant_values=np.nan) for sv in shap_values])
padded_tokens = np.array([np.pad(sv.data, (0, max_len - len(sv.data)), constant_values="") for sv in shap_values])

shap.summary_plot(padded_values, padded_tokens)
