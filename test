@mcp.tool()
def search_hotels(
    city: str,
    min_rating: float = 0,
    max_price_usd: float | None = None,
):
    """
    Search hotels by city, rating, and price.
    """
    import pandas as pd

    df = pd.read_csv("hotel.csv")

    df = df[df["city"].str.lower() == city.lower()]
    df = df[df["rating"] >= min_rating]
    df = df[df["available_rooms"] > 0]

    if max_price_usd is not None:
        df = df[df["price_per_night_usd"] <= max_price_usd]

    return df.to_dict(orient="records")        writer.writerow(booking)

    return booking


# --------------------------------------------------
# RUN SERVER
# --------------------------------------------------
if __name__ == "__main__":
    port = int(os.getenv("PORT", 8006))
    logger.info(f"ðŸš€ Flight MCP server running on port {port}")

    asyncio.run(
        mcp.run_async(
            transport="http",
            host="0.0.0.0",
            port=port,
        )
    )
