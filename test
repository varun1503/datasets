from statsmodels.stats.proportion import samplesize_proportions

# Example inputs
alpha = 0.05  # Significance level
proportion = 0.5  # Assumed proportion
margin_of_error = 0.05
You can also use statistical libraries like Statsmodels or SciPy for more complex sample size calculations.

Using Statsmodels for Proportions
# Calculate sample size
sample_size = samplesize_proportions(proportion, alpha=alpha, margin=margin_of_error)
print("Sample size using Statsmodels:", math.ceil(sample_size))

If the population size is finite (e.g., 5400 samples), adjust the sample size:

𝑛
𝑎
𝑑
𝑗
=
𝑛
1
+
𝑛
−
1
𝑁
n 
adj
​
 = 
1+ 
N
n−1
n
​

Stratified Sampling Size
If the data is stratified into labels or categories, calculate the sample size for each stratum:

Formula:
nh=Nh/nh.n
Where:

 : Sample size for stratum 
​
 : Population size of stratum 

N: Total population size

n: Total sample size
