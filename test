from statsmodels.stats.proportion import samplesize_proportions

# Example inputs
alpha = 0.05  # Significance level
proportion = 0.5  # Assumed proportion
margin_of_error = 0.05
You can also use statistical libraries like Statsmodels or SciPy for more complex sample size calculations.

Using Statsmodels for Proportions
# Calculate sample size
sample_size = samplesize_proportions(proportion, alpha=alpha, margin=margin_of_error)
print("Sample size using Statsmodels:", math.ceil(sample_size))

If the population size is finite (e.g., 5400 samples), adjust the sample size:

ğ‘›
ğ‘
ğ‘‘
ğ‘—
=
ğ‘›
1
+
ğ‘›
âˆ’
1
ğ‘
n 
adj
â€‹
 = 
1+ 
N
nâˆ’1
n
â€‹

Stratified Sampling Size
If the data is stratified into labels or categories, calculate the sample size for each stratum:

Formula:
nh=Nh/nh.n
Where:

 : Sample size for stratum 
â€‹
 : Population size of stratum 

N: Total population size

n: Total sample size
