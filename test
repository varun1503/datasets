import ast

vector_raw = input_df[vector_col_name].at[i]

if isinstance(vector_raw, str):
    try:
        vector = ast.literal_eval(vector_raw)
    except (ValueError, SyntaxError) as e:
        logger.error(f"Literal eval failed for row {i}: {vector_raw} â€” {e}")
        counts["failure"] += 1
        continue
else:
    vector = vector_raw
